(this.webpackJsonphsdbpavlepopovic=this.webpackJsonphsdbpavlepopovic||[]).push([[0],{19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(11),o=n.n(r),i=(n(24),n(25),n(10)),s=function(){return{type:"BACKLIGHT_OFF"}},u=function(e){return{type:"SUBMIT",payload:e}},l=function(e){return{type:"MASTER_CODE_CHECK",payload:e}},d=function(e){var t=e.backlight_off,n=e.code,a=e.is_locked,r=e.initial_value,o=null,i=[e.error,e.validating,e.locking,e.unlocking,e.service_mode].indexOf(!0);return 0===i?o="Error":1===i?o="Validating...":2===i?o="Locking...":3===i?o="Unlocking...":4===i&&(o="Service"),c.a.createElement("div",{className:"screen ".concat(t?"":"active")},c.a.createElement("div",{className:"screen__upperText"},a?"Locked":"Unlocked"),c.a.createElement("div",{className:"screen__lowerText"},r?"Ready":o||n))},b={backlightOff:s},k=d=Object(i.b)((function(e){return{backlight_off:e.backlight_off,code:e.code,is_locked:e.is_locked,initial_value:e.initial_value,error:e.error,validating:e.validating,locking:e.locking,unlocking:e.unlocking,service_mode:e.service_mode}}),b)(d),_=function(e){var t=e.buttonClick,n=e.is_service_mode,r=e.code,o=e.is_locked,i=e.password;return Object(a.useEffect)((function(){document.onkeydown=function(e){"7"===e.key?t("7",n,r,o,i):"8"===e.key?t("8",n,r,o,i):"9"===e.key?t("9",n,r,o,i):"4"===e.key?t("4",n,r,o,i):"5"===e.key?t("5",n,r,o,i):"6"===e.key?t("6",n,r,o,i):"1"===e.key?t("1",n,r,o,i):"2"===e.key?t("2",n,r,o,i):"3"===e.key?t("3",n,r,o,i):"0"===e.key?t("0",n,r,o,i):"*"===e.key?t(n?"*":"",n,n?r:r+"*",o,i):"L"===e.key&&t(n?"L":"",n,n?r:r+"L",o,i)}})),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"keypad"},c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("7",n,r,o,i)}},"7"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("8",n,r,o,i)}},"8"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("9",n,r,o,i)}},"9"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("4",n,r,o,i)}},"4"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("5",n,r,o,i)}},"5"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("6",n,r,o,i)}},"6"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("1",n,r,o,i)}},"1"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("2",n,r,o,i)}},"2"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("3",n,r,o,i)}},"3"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t(n?"*":"",n,n?r:r+"*",o,i)}},"*"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t("0",n,r,o,i)}},"0"),c.a.createElement("button",{className:"keypad__button",onClick:function(){return t(n?"L":"",n,n?r:r+"L",o,i)}},"L")))},m={buttonClick:function(e,t,n,a,c){return{type:"BUTTON_CLICK",payload:e,is_service_mode:t,code:n,is_locked:a,password:c}}},f=_=Object(i.b)((function(e){return{is_service_mode:e.is_service_mode,code:e.code,is_locked:e.is_locked,password:e.password}}),m)(_);var v=function(e){return c.a.createElement("div",{className:"boxbody"},c.a.createElement(k,null),c.a.createElement(f,null),c.a.createElement("div",{className:"boxbody__code"},"S/N: 4815162342"))};var p=function(){return c.a.createElement("div",null,c.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=n(8),x=n(4),g={initial_value:!0,backlight_off:!0,is_locked:!1,is_service_mode:!1,error:!1,cancel:!1,loading:!1,validating:!1,service_mode:!1,locking:!1,unlocking:!1,code:"",password:null},y=n(18),E=n(9),C=n.n(E),j=n(6),N=C.a.mark(T),h=C.a.mark(I),w=C.a.mark(K),L=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function T(e){var t,n,a;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.code+e.payload,c.next=3,Object(j.b)({type:"BACKLIGHT_ON"});case 3:return c.next=5,L(1200);case 5:if(e.is_service_mode){c.next=52;break}if(!(t.length>6&&-1===t.indexOf("L"))){c.next=13;break}return c.next=9,Object(j.b)({type:"ERROR"});case 9:return c.next=11,L(3800);case 11:c.next=50;break;case 13:if(e.is_locked){c.next=29;break}if(6!==e.code.indexOf("L")){c.next=25;break}return c.next=17,Object(j.b)({type:"LOCKING",payload:e.code.substring(0,6)});case 17:return c.next=19,L(3e3);case 19:return c.next=21,Object(j.b)(u(!0));case 21:return c.next=23,L(800);case 23:c.next=27;break;case 25:return c.next=27,L(3800);case 27:c.next=50;break;case 29:if(!e.is_locked){c.next=50;break}if("000000"!==t){c.next=37;break}return c.next=33,Object(j.b)({type:"RUN_SERVICE_MODE"});case 33:return c.next=35,L(3800);case 35:c.next=50;break;case 37:if(t!==e.password){c.next=48;break}return c.next=40,Object(j.b)((e.code.substring(0,6),{type:"UNLOCKING"}));case 40:return c.next=42,L(3e3);case 42:return c.next=44,Object(j.b)(u(!1));case 44:return c.next=46,L(800);case 46:c.next=50;break;case 48:return c.next=50,L(3800);case 50:c.next=69;break;case 52:if(!e.is_service_mode){c.next=69;break}return c.next=55,fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code="+t).then((function(e){return e.json()})).then((function(e){return l(e)}));case 55:return a=c.sent,c.next=58,Object(j.b)(l());case 58:return c.next=60,L(3e3);case 60:if(4815162342!==(null===(n=a.payload)||void 0===n?void 0:n.sn)){c.next=67;break}return c.next=63,Object(j.b)(u(!0));case 63:return c.next=65,L(800);case 65:c.next=69;break;case 67:return c.next=69,L(800);case 69:return c.next=71,Object(j.b)({type:"BACKLIGHT_OFF"});case 71:return c.next=73,Object(j.b)({type:"CANCEL"});case 73:case"end":return c.stop()}}),N)}function I(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)("BUTTON_CLICK",T);case 2:case"end":return e.stop()}}),h)}function K(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([I()]);case 2:case"end":return e.stop()}}),w)}var R=Object(y.a)(),B=Object(O.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BACKLIGHT_OFF":return Object(x.a)(Object(x.a)({},e),{},{backlight_off:!0});case"BACKLIGHT_ON":return Object(x.a)(Object(x.a)({},e),{},{backlight_off:!1});case"SUBMIT":return Object(x.a)(Object(x.a)({},e),{},{is_locked:t.payload});case"CANCEL":return Object(x.a)(Object(x.a)({},e),{},{cancel:!0,code:"",unlocking:!1,validating:!1,error:!1,locking:!1,service_mode:!1});case"LOCKING":return Object(x.a)(Object(x.a)({},e),{},{locking:!0,password:t.payload,validating:!1,error:!1,unlocking:!1,service_mode:!1});case"UNLOCKING":return Object(x.a)(Object(x.a)({},e),{},{unlocking:!0,validating:!1,error:!1,locking:!1,service_mode:!1});case"RUN_SERVICE_MODE":return Object(x.a)(Object(x.a)({},e),{},{service_mode:!0,validating:!1,error:!1,locking:!1,unlocking:!1,is_service_mode:!0});case"MASTER_CODE_CHECK":return Object(x.a)(Object(x.a)({},e),{},{validating:!0,error:!1,locking:!1,unlocking:!1,service_mode:!1});case"ERROR":return Object(x.a)(Object(x.a)({},e),{},{error:!0,validating:!1,locking:!1,unlocking:!1,service_mode:!1});case"BUTTON_CLICK":return Object(x.a)(Object(x.a)({},e),{},{initial_value:!1,code:e.code+t.payload});default:return e}}),Object(O.a)(R));R.run(K),o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:B},c.a.createElement(p,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.7a52c75f.chunk.js.map